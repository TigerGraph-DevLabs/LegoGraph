CREATE QUERY yearParts() FOR GRAPH LegoGraph {
  TYPEDEF TUPLE <year INT, num_parts INT> YEAR_PARTS;

  ListAccum<YEAR_PARTS> @@result; 

  Seed = {Year.*};

  Res = SELECT l FROM Seed:s - (LEGO_SET_YEAR:e) - Lego_Set:l
        ACCUM @@result+=YEAR_PARTS(s.year, l.num_parts);

  PRINT @@result;
}